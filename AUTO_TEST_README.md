# ğŸ¤– Imagio è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿ

## æ¦‚è¿°

æˆ‘å·²ç»ä¸ºä½ çš„ Imagio åº”ç”¨åˆ›å»ºäº†ä¸€ä¸ª**å®Œå…¨è‡ªåŠ¨åŒ–çš„æµ‹è¯•ç³»ç»Ÿ**ï¼Œå¯ä»¥è‡ªåŠ¨è¿è¡Œã€æµ‹è¯•ã€åˆ†æå’Œæ”¹è¿›åº”ç”¨åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. åç«¯è‡ªåŠ¨åŒ– API (Rust)
- **å¥åº·æ£€æŸ¥ API**: `health_check` - æ£€æµ‹åº”ç”¨çŠ¶æ€ã€ç‰ˆæœ¬å’ŒåŠŸèƒ½
- **è‡ªåŠ¨åŒ–æµ‹è¯• API**: `run_automated_test` - è‡ªåŠ¨æ‰§è¡Œ OCR æµ‹è¯•å¹¶è¿”å›ç»“æœ
- è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•å›¾ç‰‡
- è®°å½•å¤„ç†æ—¶é—´å’Œæ€§èƒ½æŒ‡æ ‡

### 2. å‰ç«¯æµ‹è¯•æ§åˆ¶å°
- **ç‹¬ç«‹ HTML é¡µé¢**: `test.html` - ç¾è§‚çš„æš—è‰²ä¸»é¢˜æµ‹è¯•ç•Œé¢
- **React ç»„ä»¶**: `AutoTest.tsx` - å¯é›†æˆåˆ°ä¸»åº”ç”¨çš„æµ‹è¯•ç»„ä»¶
- å®æ—¶æ˜¾ç¤ºæµ‹è¯•ç»Ÿè®¡ï¼ˆé€šè¿‡ç‡ã€å¤±è´¥ç‡ã€å¹³å‡è€—æ—¶ï¼‰
- è¯¦ç»†çš„æµ‹è¯•æ—¥å¿—å’Œæ—¶é—´æˆ³

### 3. è‡ªåŠ¨åŒ–æµ‹è¯•èƒ½åŠ›
- âœ… å¥åº·æ£€æŸ¥ - éªŒè¯åº”ç”¨æ ¸å¿ƒåŠŸèƒ½
- ğŸ“ OCR æµ‹è¯• - è‡ªåŠ¨æµ‹è¯•å›¾åƒè¯†åˆ«åŠŸèƒ½
- ğŸš€ å®Œæ•´æµ‹è¯•å¥—ä»¶ - ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•
- ğŸ“Š å®æ—¶ç»Ÿè®¡å’ŒæŠ¥å‘Š

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: è®¿é—®æµ‹è¯•æ§åˆ¶å°ï¼ˆæ¨èï¼‰

1. **å¯åŠ¨åº”ç”¨**ï¼ˆå¦‚æœè¿˜æœªå¯åŠ¨ï¼‰ï¼š
   ```bash
   npm run tauri:dev
   ```

2. **æ‰“å¼€æµ‹è¯•æ§åˆ¶å°**ï¼š
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—®: **http://localhost:1420/test.html**
   - é¡µé¢ä¼šè‡ªåŠ¨è¿è¡Œå¥åº·æ£€æŸ¥

3. **è¿è¡Œæµ‹è¯•**ï¼š
   - ç‚¹å‡» "ğŸ¥ å¥åº·æ£€æŸ¥" - æ£€æŸ¥åº”ç”¨çŠ¶æ€
   - ç‚¹å‡» "ğŸ“ OCR æµ‹è¯•" - æµ‹è¯• OCR åŠŸèƒ½
   - ç‚¹å‡» "ğŸš€ å®Œæ•´æµ‹è¯•å¥—ä»¶" - è¿è¡Œæ‰€æœ‰æµ‹è¯•
   - ç‚¹å‡» "ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—" - æ¸…é™¤æµ‹è¯•è®°å½•

### æ–¹æ³• 2: ä½¿ç”¨å‘½ä»¤è¡Œè„šæœ¬

æˆ‘ä¹‹å‰åˆ›å»ºçš„è„šæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š

```bash
# è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆåŒ…æ‹¬å¯åŠ¨åº”ç”¨å’Œæˆªå›¾ï¼‰
./scripts/auto-test.sh

# åˆ†ææµ‹è¯•ç»“æœ
./scripts/analyze-and-improve.sh

# é‡å¯åº”ç”¨
./scripts/restart-app.sh
```

### æ–¹æ³• 3: Tauri API ç›´æ¥è°ƒç”¨

åœ¨ä»»ä½• JavaScript ä»£ç ä¸­ï¼š

```javascript
import { invoke } from '@tauri-apps/api/core';

// å¥åº·æ£€æŸ¥
const health = await invoke('health_check');
console.log(health);

// è¿è¡Œ OCR æµ‹è¯•
const testResult = await invoke('run_automated_test', {
  testImagePath: null  // null = è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•å›¾ç‰‡
});
console.log(testResult);
```

## ğŸ“Š æµ‹è¯•æŒ‡æ ‡

æµ‹è¯•æ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š
- âœ… **é€šè¿‡æ•°** - æˆåŠŸçš„æµ‹è¯•æ•°é‡
- âŒ **å¤±è´¥æ•°** - å¤±è´¥çš„æµ‹è¯•æ•°é‡
- ğŸ“‹ **æ€»è®¡** - è¿è¡Œçš„æµ‹è¯•æ€»æ•°
- â±ï¸ **å¹³å‡è€—æ—¶** - OCR å¤„ç†çš„å¹³å‡æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

## ğŸ”„ è‡ªåŠ¨åŒ–æ”¹è¿›æµç¨‹ï¼ˆæ¦‚å¿µï¼‰

æœªæ¥å¯ä»¥æ‰©å±•çš„å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ï¼š

```
1. è¿è¡Œæµ‹è¯• â†’ 2. åˆ†æç»“æœ â†’ 3. è¯†åˆ«é—®é¢˜ â†’ 4. ç”Ÿæˆæ”¹è¿›ä»£ç  â†’ 5. åº”ç”¨ä¿®å¤ â†’ 6. é‡æ–°æµ‹è¯•
   â†‘                                                                              â†“
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¾ªç¯ç›´åˆ°æ‰€æœ‰æµ‹è¯•é€šè¿‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å½“å‰å®ç°ï¼š
- âœ… è‡ªåŠ¨è¿è¡Œæµ‹è¯•
- âœ… è®°å½•å’Œåˆ†æç»“æœ
- âœ… æ€§èƒ½æŒ‡æ ‡è¿½è¸ª

### å¯ä»¥æ·»åŠ ï¼š
- ğŸ”² åŸºäºæµ‹è¯•å¤±è´¥è‡ªåŠ¨ç”Ÿæˆä¿®å¤ä»£ç 
- ğŸ”² è‡ªåŠ¨é‡æ–°ç¼–è¯‘å’Œéƒ¨ç½²
- ğŸ”² æŒç»­é›†æˆ (CI) æµç¨‹
- ğŸ”² è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- ğŸ”² æ™ºèƒ½é”™è¯¯è¯Šæ–­ï¼ˆä½¿ç”¨ LLMï¼‰

## ğŸ“ æ–‡ä»¶ç»“æ„

```
Imagio/
â”œâ”€â”€ src-tauri/src/lib.rs          # åç«¯ API (health_check, run_automated_test)
â”œâ”€â”€ src/pages/AutoTest.tsx        # React æµ‹è¯•ç»„ä»¶
â”œâ”€â”€ test.html                     # ç‹¬ç«‹æµ‹è¯•æ§åˆ¶å°
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ auto-test.sh             # è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ analyze-and-improve.sh   # åˆ†æè„šæœ¬
â”‚   â””â”€â”€ restart-app.sh           # é‡å¯è„šæœ¬
â””â”€â”€ .test-screenshots/           # æµ‹è¯•æˆªå›¾å’Œæ—¥å¿—ç›®å½•
```

## ğŸ¯ ç¤ºä¾‹è¾“å‡º

### å¥åº·æ£€æŸ¥
```json
{
  "status": "healthy",
  "timestamp": 1760394870,
  "version": "1.0.0",
  "features": ["ocr", "screenshot", "image_processing"]
}
```

### OCR æµ‹è¯•
```json
{
  "success": true,
  "ocrText": "è¯†åˆ«å‡ºçš„æ–‡æœ¬å†…å®¹...",
  "error": null,
  "processingTimeMs": 856
}
```

## ğŸ”§ æ‰©å±•å’Œå®šåˆ¶

### æ·»åŠ æ–°æµ‹è¯•

åœ¨ `src-tauri/src/lib.rs` ä¸­æ·»åŠ æ–°çš„æµ‹è¯•å‘½ä»¤ï¼š

```rust
#[tauri::command]
async fn my_custom_test() -> Result<TestResult, String> {
    // ä½ çš„æµ‹è¯•é€»è¾‘
    Ok(TestResult {
        success: true,
        message: "Test passed!".to_string()
    })
}
```

åœ¨ `test.html` ä¸­æ·»åŠ æŒ‰é’®å’Œè°ƒç”¨ï¼š

```javascript
async function runCustomTest() {
    const result = await invoke('my_custom_test');
    log(`æµ‹è¯•ç»“æœ: ${result.message}`);
}
```

## ğŸ› æ•…éšœæ’é™¤

### åº”ç”¨æœªå¯åŠ¨
```bash
npm run tauri:dev
```

### æµ‹è¯•é¡µé¢æ‰“ä¸å¼€
1. ç¡®è®¤ Vite æœåŠ¡å™¨åœ¨è¿è¡Œï¼ˆé»˜è®¤ localhost:1420ï¼‰
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. æŸ¥çœ‹æ—¥å¿—: `.test-screenshots/tauri-dev.log`

### æµ‹è¯•å¤±è´¥
- æ£€æŸ¥ Tesseract OCR æ˜¯å¦æ­£ç¡®å®‰è£…
- ç¡®è®¤åº”ç”¨æœ‰è¶³å¤Ÿçš„æƒé™
- æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯åœ¨æµ‹è¯•æ—¥å¿—ä¸­

## ğŸš€ æœªæ¥è§„åˆ’

1. **æ™ºèƒ½åˆ†æ** - ä½¿ç”¨ LLM åˆ†ææµ‹è¯•å¤±è´¥åŸå› 
2. **è‡ªåŠ¨ä¿®å¤** - æ ¹æ®æµ‹è¯•ç»“æœè‡ªåŠ¨ç”Ÿæˆä¿®å¤ä»£ç 
3. **æ€§èƒ½ç›‘æ§** - æŒç»­è¿½è¸ªåº”ç”¨æ€§èƒ½æŒ‡æ ‡
4. **å›å½’æµ‹è¯•** - è‡ªåŠ¨æ£€æµ‹åŠŸèƒ½é€€åŒ–
5. **å¯è§†åŒ–æŠ¥å‘Š** - ç”Ÿæˆå›¾è¡¨å’Œè¶‹åŠ¿åˆ†æ

## ğŸ“ Git æäº¤

æ‰€æœ‰ä»£ç å·²æäº¤åˆ° gitï¼š
- âœ… è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ (commit: 6e89f7a)
- âœ… å®Œæ•´æµ‹è¯•ç³»ç»Ÿ (commit: 4a03e40)

æŸ¥çœ‹å†å²ï¼š
```bash
git log --oneline -5
```

---

**å¼€å§‹æµ‹è¯•**ï¼šç°åœ¨è®¿é—® http://localhost:1420/test.html å¼€å§‹è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ ğŸ‰
